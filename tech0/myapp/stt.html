<!DOCTYPE html>
<meta charset="UTF-8">

<html>

<head>
    <title>音声認識アプリ</title>
</head>

<body>
    <h1>音声認識アプリ</h1>
    <button id="start">音声認識開始</button>
    <button id="stop">終了</button>
    <p id="result"></p>
    <script>
        var recognition = new webkitSpeechRecognition();
        recognition.lang = 'ja-JP';
        recognition.interimResults = true;
        recognition.continuous = true;

        var finalTranscript = '';

        document.getElementById('start').addEventListener('click', function () {
            recognition.start();
        });

        document.getElementById('stop').addEventListener('click', function () {
            recognition.stop();
        });

        recognition.onresult = function (event) {
            var interimTranscript = '';
            for (var i = event.resultIndex; i < event.results.length; i++) {
                if (event.results[i].isFinal) {
                    finalTranscript += event.results[i][0].transcript;
                } else {
                    interimTranscript += event.results[i][0].transcript;
                }
            }
            document.getElementById('result').innerHTML = finalTranscript + '<i style="color:#ddd;">' + interimTranscript + '</>';
        }
    </script>
</body>

</html>